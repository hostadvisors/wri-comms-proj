/* ========================================================================
   WRI Theme Variables - Color System and Design Tokens
   - Brand color palette and design tokens
   - Light/Dark theme color mappings
   - WCAG 2.1 AA compliant color system
   - Typography tokens and font definitions
   ======================================================================== */

@layer wri-tokens, starlight, wri-overrides;

@layer wri-tokens {
  :root {
    /* =====================================================================
       WRI Brand Fonts
       ===================================================================== */
    --wri-font-sans: "Noto Sans", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu,
                     Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji",
                     "Segoe UI Emoji", "Segoe UI Symbol";
    --wri-font-weight-light: 300;
    --wri-font-weight-medium: 500;
    --wri-font-weight-bold: 700;

    /* =====================================================================
       Official WRI Brand Colors - Primary
       ===================================================================== */
    --wri-yellow:     #F0AB00; /* RGB 240, 171, 0 - Official WRI primary */
    --wri-gray:       #9B9B9B; /* RGB 155, 155, 155 - Official WRI gray */

    /* =====================================================================
       Official WRI Brand Colors - Secondary Palette
       ===================================================================== */
    --wri-blue:       #0099CC; /* RGB 0, 156, 204 - info */
    --wri-red:        #C51F24; /* RGB 197, 31, 36 - danger */
    --wri-lime:       #97BD3D; /* RGB 151, 189, 61 - success accent */
    --wri-purple:     #7D0063; /* RGB 125, 0, 99 - accent */
    --wri-green:      #007A4D; /* RGB 0, 122, 77 - success */
    --wri-navy:       #003F6A; /* RGB 0, 63, 106 - deep accent */
    --wri-orange:     #E98300; /* RGB 233, 131, 0 - warning */
    --wri-berry:      #ED1A37; /* RGB 237, 26, 55 - accent */
    --wri-bright:     #FCD900; /* RGB 252, 217, 0 - bright accent */

    /* =====================================================================
       Extended Yellow Palette (derived from official #F0AB00)
       ===================================================================== */
    --wri-yellow-50:  #FFFBF0;
    --wri-yellow-100: #FFF4D6;
    --wri-yellow-200: #FFE6A3;
    --wri-yellow-300: #FFD670;
    --wri-yellow-400: #FFC13D;
    --wri-yellow-500: #F0AB00; /* Official brand color */
    --wri-yellow-600: #D99900;
    --wri-yellow-700: #B88000;
    --wri-yellow-800: #996700;
    --wri-yellow-900: #664400;
    --wri-yellow-950: #332200;

   /* Canonical gold token family (preferred names) - map to existing yellow palette */
   --wri-gold: var(--wri-yellow-500);
   --wri-gold-50: var(--wri-yellow-50);
   --wri-gold-100: var(--wri-yellow-100);
   --wri-gold-200: var(--wri-yellow-200);
   --wri-gold-300: var(--wri-yellow-300);
   --wri-gold-400: var(--wri-yellow-400);
   --wri-gold-500: var(--wri-yellow-500);
   --wri-gold-600: var(--wri-yellow-600);
   --wri-gold-700: var(--wri-yellow-700);
   --wri-gold-800: var(--wri-yellow-800);
   --wri-gold-900: var(--wri-yellow-900);
   --wri-gold-950: var(--wri-yellow-950);


    /* =====================================================================
       Neutral System (refined for docs legibility)
       ===================================================================== */
    --wri-slate-50:  #F8FAFC;
    --wri-slate-100: #F1F5F9;
    --wri-slate-200: #E2E8F0;
    --wri-slate-300: #CBD5E1;
    --wri-slate-400: #94A3B8;
    --wri-slate-500: #64748B;
    --wri-slate-600: #475569;
    --wri-slate-700: #334155;
    --wri-slate-800: #1E293B;
    --wri-slate-900: #0F172A;
    --wri-slate-950: #020617;

    /* =====================================================================
       WCAG 2.1 AA Compliant Link Colors
       WRI uses GREEN for links on their website, not yellow
       ===================================================================== */
    --wri-link-light: #007A4D; /* WRI Green - 4.61:1 on white */
    --wri-link-hover-light: #005A39; /* Darker green - 6.31:1 on white */
    --wri-link-dark: #4ADE80; /* Light green - good contrast on dark */
    --wri-link-hover-dark: #22C55E; /* Brighter green for hover */
    
    /* =====================================================================
       WRI Gold - EXACT brand color for backgrounds
       ===================================================================== */
   /* legacy alias kept for compatibility; prefer --wri-gold and --wri-gold-500 */
   --wri-gold-bg: var(--wri-gold);
    --wri-gold-accessible: #D99900; /* Darker for text when needed */

    /* =====================================================================
       Focus Ring Colors
       ===================================================================== */
    --wri-focus: rgba(0, 122, 77, 0.6); /* WRI green focus ring */
    --wri-focus-dark: rgba(74, 222, 128, 0.7); /* Light green for dark backgrounds */

    /* =====================================================================
       Starlight Color System Mapping - Light Theme
       ===================================================================== */
    --sl-font: var(--wri-font-sans);
    --sl-font-system: var(--wri-font-sans);
    --sl-text-body-line: 1.6;

    /* Base colors */
    --sl-color-white: #FFFFFF;
    --sl-color-black: var(--wri-slate-900);
    --sl-color-text: var(--wri-slate-900);
    --sl-color-text-invert: var(--sl-color-bg);
    --sl-color-bg: #FFFFFF;
    --sl-color-bg-nav: #FFFFFF;
    --sl-color-bg-sidebar: var(--wri-slate-50);
    --sl-color-bg-inline-code: var(--wri-slate-100);
    --sl-color-hairline: var(--wri-slate-200);
    --sl-color-hairline-light: var(--wri-slate-100);
    --sl-color-hairline-shade: var(--wri-slate-300);

    /* WRI brand accents - Gold backgrounds only */
    --sl-color-accent-low: var(--wri-yellow-100);
    --sl-color-accent: var(--wri-gold-bg);
    --sl-color-accent-high: var(--wri-gold-accessible);
    --sl-color-text-accent: var(--wri-gold);

    /* Ensure Starlight-generated CSS (scoped with astro- classes) resolves to WRI gold
       Some framework rules are emitted into compiled CSS with lower specificity; setting
       these variables on the astro-scoped container guarantees the accent maps to gold. */
    [class*="astro-"] {
      --sl-color-accent-low: var(--wri-gold-100);
      --sl-color-accent: var(--wri-gold-500);
      --sl-color-accent-high: var(--wri-gold-accessible);
      --sl-color-text-accent: var(--wri-gold);
    }

    /* Dark theme astro-scoped override */
    :root[data-theme="dark"] [class*="astro-"] {
      --sl-color-accent-low: color-mix(in srgb, var(--wri-gold-500) 15%, var(--wri-slate-900));
      --sl-color-accent: var(--wri-gold-500);
      --sl-color-accent-high: var(--wri-gold-accessible);
      --sl-color-text-accent: var(--wri-gold);
    }

    /* Semantic colors using WRI secondary palette */
    --sl-color-blue: var(--wri-blue);
    --sl-color-blue-low: color-mix(in srgb, var(--wri-blue) 10%, transparent);
    --sl-color-blue-high: color-mix(in srgb, var(--wri-blue) 15%, black);
    --sl-color-green: var(--wri-green);
    --sl-color-green-low: color-mix(in srgb, var(--wri-green) 10%, transparent);
    --sl-color-green-high: color-mix(in srgb, var(--wri-green) 15%, black);
    --sl-color-orange: var(--wri-orange);
    --sl-color-orange-low: color-mix(in srgb, var(--wri-orange) 10%, transparent);
    --sl-color-orange-high: color-mix(in srgb, var(--wri-orange) 15%, black);
    --sl-color-red: var(--wri-red);
    --sl-color-red-low: color-mix(in srgb, var(--wri-red) 10%, transparent);
    --sl-color-red-high: color-mix(in srgb, var(--wri-red) 15%, black);
    --sl-color-purple: var(--wri-purple);
    --sl-color-purple-low: color-mix(in srgb, var(--wri-purple) 10%, transparent);
    --sl-color-purple-high: color-mix(in srgb, var(--wri-purple) 15%, black);

    /* Gray scale using refined neutrals */
    --sl-color-gray-1: var(--wri-slate-100);
    --sl-color-gray-2: var(--wri-slate-200);
    --sl-color-gray-3: var(--wri-slate-300);
    --sl-color-gray-4: var(--wri-slate-400);
    --sl-color-gray-5: var(--wri-slate-500);
    --sl-color-gray-6: var(--wri-slate-600);

    /* Focus ring */
    --sl-color-focus: var(--wri-link-light);
  }

  /* =====================================================================
     Dark Theme Color Mappings - WCAG Compliant
     ===================================================================== */
  :root[data-theme="dark"] {
    --sl-color-text: #FFFFFF;
    --sl-color-text-invert: var(--wri-slate-900);
    --sl-color-bg: var(--wri-slate-950);
    --sl-color-bg-nav: var(--wri-slate-950);
    --sl-color-bg-sidebar: var(--wri-slate-900);
    --sl-color-bg-inline-code: var(--wri-slate-800);
    --sl-color-hairline: var(--wri-slate-700);
    --sl-color-hairline-light: var(--wri-slate-800);
    --sl-color-hairline-shade: var(--wri-slate-600);

    /* Dark mode accents - maintain WRI brand with good contrast */
    --sl-color-accent-low: color-mix(in srgb, var(--wri-yellow-500) 15%, var(--wri-slate-900));
    --sl-color-accent: var(--wri-gold-bg);
    --sl-color-accent-high: var(--wri-gold-accessible);
    --sl-color-text-accent: var(--wri-link-dark);

    /* Enhanced semantic colors for dark mode */
    --sl-color-blue: color-mix(in srgb, var(--wri-blue) 85%, white);
    --sl-color-blue-low: color-mix(in srgb, var(--wri-blue) 15%, var(--wri-slate-900));
    --sl-color-blue-high: color-mix(in srgb, var(--wri-blue) 75%, white);
    --sl-color-green: color-mix(in srgb, var(--wri-green) 85%, white);
    --sl-color-green-low: color-mix(in srgb, var(--wri-green) 15%, var(--wri-slate-900));
    --sl-color-green-high: color-mix(in srgb, var(--wri-green) 75%, white);
    --sl-color-orange: color-mix(in srgb, var(--wri-orange) 85%, white);
    --sl-color-orange-low: color-mix(in srgb, var(--wri-orange) 15%, var(--wri-slate-900));
    --sl-color-orange-high: color-mix(in srgb, var(--wri-orange) 75%, white);
    --sl-color-red: color-mix(in srgb, var(--wri-red) 85%, white);
    --sl-color-red-low: color-mix(in srgb, var(--wri-red) 15%, var(--wri-slate-900));
    --sl-color-red-high: color-mix(in srgb, var(--wri-red) 75%, white);
    --sl-color-purple: color-mix(in srgb, var(--wri-purple) 85%, white);
    --sl-color-purple-low: color-mix(in srgb, var(--wri-purple) 15%, var(--wri-slate-900));
    --sl-color-purple-high: color-mix(in srgb, var(--wri-purple) 75%, white);

    /* Dark gray scale */
    --sl-color-gray-1: var(--wri-slate-800);
    --sl-color-gray-2: var(--wri-slate-700);
    --sl-color-gray-3: var(--wri-slate-600);
    --sl-color-gray-4: var(--wri-slate-500);
    --sl-color-gray-5: var(--wri-slate-400);
    --sl-color-gray-6: var(--wri-slate-300);

    /* Dark focus ring - green to match dark mode links */
    --wri-focus: var(--wri-focus-dark);
  }
}
